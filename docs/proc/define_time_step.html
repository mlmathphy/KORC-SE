<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   
   <meta name="description" content="Kinetic Orbit Runaway electrons Code (KORC)">
    
    <meta name="author" content="Matt Beidler" >
    <link rel="icon" href="../favicon.png">

    <title>define_time_step &ndash; KORC</title>

    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/pygments.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/local.css" rel="stylesheet">
    
    <link  href="../tipuesearch/tipuesearch.css" rel="stylesheet">
    
    

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script src="../js/jquery-2.1.3.min.js"></script>
    <script src="../js/svg-pan-zoom.min.js"></script>

  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../index.html">KORC </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
        
            <li><a href='../page/index.html'>README</a></li>
      
            <li class="dropdown hidden-xs visible-sm visible-md hidden-lg">
              <a href="#" class="dropdown-toggle"
              data-toggle="dropdown" role="button"
              aria-haspopup="true"
     aria-expanded="false">Contents <span class="caret"></span></a>
        <ul class="dropdown-menu">
          
              
            <li><a href="../lists/files.html">Source Files</a></li>
        
        
        
            <li><a href="../lists/modules.html">Modules</a></li>
        
            
                                
            <li><a href="../lists/procedures.html">Procedures</a></li>
        
               
            <li><a href="../lists/types.html">Derived Types</a></li>
        
        
            <li><a href="../program/main.html">Program</a></li>
      
            </ul>
            </li>


<li class="visible-xs hidden-sm visible-lg"><a href="../lists/files.html">Source Files</a></li>



<li class="visible-xs hidden-sm visible-lg"><a href="../lists/modules.html">Modules</a></li>



<li class="visible-xs hidden-sm visible-lg"><a href="../lists/procedures.html">Procedures</a></li>

                             
<li class="visible-xs hidden-sm visible-lg"><a href="../lists/types.html">Derived Types</a></li>


<li class="visible-xs hidden-sm visible-lg"><a href="../program/main.html">Program</a></li>

          </ul>
        
        <form action="../search.html" class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
        </div>
<!--
        <button type="submit" class="btn btn-default">Submit</button>
-->
        </form>
        
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
    
  
  <div class="row">
    <h1>define_time_step
      <small>Subroutine</small>
    
    </h1>
    
<div class="row">
  <div class="col-lg-12">
<div class="well well-sm">
  <ul class="list-inline" style="margin-bottom:0px;display:inline">
     
     
     
     
    
    
     <li><i class="fa fa-list-ol"></i>
       <a data-toggle="tooltip"
    data-placement="bottom" data-html="true"
    title=" 0.2% of total for procedures.">48 statements</a>
     </li> 
     
     
     
    <li><i class="fa fa-code"></i><a href="../src/korc_initialize.f90"> Source File</a></li>
     
     
  </ul>
  <ol class="breadcrumb in-well text-right">
  
    
     <li><a href='../sourcefile/korc_initialize.f90.html'>korc_initialize.f90</a></li>
    
     <li><a href='../module/korc_initialize.html'>korc_initialize</a></li>
    
  
     <li class="active">define_time_step</li>
  </ol>
</div>
</div>
</div>
<script>
  $(function () {
  $('[data-toggle="tooltip"]').tooltip()
  })
</script>

  </div>
  
  <div class="row">
    <div class="col-md-3 hidden-xs hidden-sm visible-md visible-lg">
    
<div id="sidebar">
  
<h3>Contents</h3>
 





















<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title">Source Code</h3></div>
  <div class="list-group">
    <a class="list-group-item" href="../proc/define_time_step.html#src">define_time_step</a>
  </div>
</div>



</div>

    </div>
    
    <div class="col-md-9" id='text'>
    <h2>
public subroutine define_time_step(params, F)
    
    
   
</h2>
    
  


    
    <p></p><div class="alert alert-info" role="alert"><h4>Note</h4><p>Subroutine that defines or loads from restart file the time
 stepping parameters. </p></div>
<p>
    

    <h3>Arguments</h3>
    
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-params~157"></span>type(KORC_PARAMS),</td>
  <td>intent(inout)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>params</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-f~105"></span>type(FIELDS),</td>
  <td>intent(inout)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>F</strong></td><td><p>Core KORC simulation parameters.</p></td>
  
</tr>

</tbody>
</table>

    
    
    
    <br>
    
    
    <div class="panel panel-default">
      <div class="panel-heading">
  <h3 class="panel-title">Calls</h3>
      </div>
      <div class="panel-body">
  <div class="depgraph"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: proc~~define_time_step~~CallsGraph Pages: 1 -->
<svg id="procdefine_time_stepCallsGraph" width="641pt" height="266pt"
 viewBox="0.00 0.00 641.00 266.36" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="proc~~define_time_step~~CallsGraph" class="graph" transform="scale(.8841 .8841) rotate(0) translate(4 297.2672)">
<title>proc~~define_time_step~~CallsGraph</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-297.2672 721,-297.2672 721,4 -4,4"/>
<!-- proc~define_time_step -->
<g id="proc~~define_time_step~~CallsGraph_node1" class="node">
<title>proc~define_time_step</title>
<polygon fill="none" stroke="#000000" points="92,-147 0,-147 0,-123 92,-123 92,-147"/>
<text text-anchor="middle" x="46" y="-132.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#000000">define_time_step</text>
</g>
<!-- proc~load_time_stepping_params -->
<g id="proc~~define_time_step~~CallsGraph_node2" class="node">
<title>proc~load_time_stepping_params</title>
<g id="a_proc~~define_time_step~~CallsGraph_node2"><a xlink:href=".././proc/load_time_stepping_params.html" xlink:title="load_time_stepping_params">
<polygon fill="#d9534f" stroke="#d9534f" points="272,-147 128,-147 128,-123 272,-123 272,-147"/>
<text text-anchor="middle" x="200" y="-132.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">load_time_stepping_params</text>
</a>
</g>
</g>
<!-- proc~define_time_step&#45;&gt;proc~load_time_stepping_params -->
<g id="proc~~define_time_step~~CallsGraph_edge1" class="edge">
<title>proc~define_time_step&#45;&gt;proc~load_time_stepping_params</title>
<path fill="none" stroke="#000000" d="M92.2051,-135C100.2923,-135 108.9222,-135 117.6441,-135"/>
<polygon fill="#000000" stroke="#000000" points="117.8983,-138.5001 127.8983,-135 117.8982,-131.5001 117.8983,-138.5001"/>
</g>
<!-- float -->
<g id="proc~~define_time_step~~CallsGraph_node3" class="node">
<title>float</title>
<polygon fill="#777777" stroke="#777777" points="227,-105 173,-105 173,-81 227,-81 227,-105"/>
<text text-anchor="middle" x="200" y="-90.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">float</text>
</g>
<!-- proc~define_time_step&#45;&gt;float -->
<g id="proc~~define_time_step~~CallsGraph_edge2" class="edge">
<title>proc~define_time_step&#45;&gt;float</title>
<path fill="none" stroke="#000000" d="M90.1302,-122.9645C113.1488,-116.6867 140.9921,-109.0931 162.8895,-103.1211"/>
<polygon fill="#000000" stroke="#000000" points="164.0763,-106.4253 172.803,-100.4174 162.2345,-99.6719 164.0763,-106.4253"/>
</g>
<!-- proc~load_prev_time -->
<g id="proc~~define_time_step~~CallsGraph_node4" class="node">
<title>proc~load_prev_time</title>
<g id="a_proc~~define_time_step~~CallsGraph_node4"><a xlink:href=".././proc/load_prev_time.html" xlink:title="load_prev_time">
<polygon fill="#d9534f" stroke="#d9534f" points="242,-189 158,-189 158,-165 242,-165 242,-189"/>
<text text-anchor="middle" x="200" y="-174.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">load_prev_time</text>
</a>
</g>
</g>
<!-- proc~define_time_step&#45;&gt;proc~load_prev_time -->
<g id="proc~~define_time_step~~CallsGraph_edge3" class="edge">
<title>proc~define_time_step&#45;&gt;proc~load_prev_time</title>
<path fill="none" stroke="#000000" d="M90.1302,-147.0355C108.2118,-151.9669 129.2704,-157.7101 148.0855,-162.8415"/>
<polygon fill="#000000" stroke="#000000" points="147.4138,-166.2861 157.9824,-165.5407 149.2557,-159.5327 147.4138,-166.2861"/>
</g>
<!-- mpi_bcast -->
<g id="proc~~define_time_step~~CallsGraph_node5" class="node">
<title>mpi_bcast</title>
<polygon fill="#777777" stroke="#777777" points="383,-231 323,-231 323,-207 383,-207 383,-231"/>
<text text-anchor="middle" x="353" y="-216.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">mpi_bcast</text>
</g>
<!-- proc~load_time_stepping_params&#45;&gt;mpi_bcast -->
<g id="proc~~define_time_step~~CallsGraph_edge4" class="edge">
<title>proc~load_time_stepping_params&#45;&gt;mpi_bcast</title>
<path fill="none" stroke="#000000" d="M254.2061,-147.0533C260.4491,-149.5185 266.5294,-152.4704 272,-156 292.6589,-169.3288 288.419,-183.133 308,-198 309.8411,-199.3978 311.7901,-200.7332 313.8043,-202.0039"/>
<polygon fill="#000000" stroke="#000000" points="312.4916,-205.2822 322.9198,-207.1538 315.9348,-199.1876 312.4916,-205.2822"/>
</g>
<!-- h5fclose_f -->
<g id="proc~~define_time_step~~CallsGraph_node7" class="node">
<title>h5fclose_f</title>
<polygon fill="#777777" stroke="#777777" points="383,-189 323,-189 323,-165 383,-165 383,-189"/>
<text text-anchor="middle" x="353" y="-174.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">h5fclose_f</text>
</g>
<!-- proc~load_time_stepping_params&#45;&gt;h5fclose_f -->
<g id="proc~~define_time_step~~CallsGraph_edge5" class="edge">
<title>proc~load_time_stepping_params&#45;&gt;h5fclose_f</title>
<path fill="none" stroke="#000000" d="M243.8437,-147.0355C265.6456,-153.0204 291.8039,-160.2011 313.0472,-166.0326"/>
<polygon fill="#000000" stroke="#000000" points="312.1638,-169.4195 322.7336,-168.6916 314.0168,-162.6692 312.1638,-169.4195"/>
</g>
<!-- proc~korc_abort -->
<g id="proc~~define_time_step~~CallsGraph_node8" class="node">
<title>proc~korc_abort</title>
<g id="a_proc~~define_time_step~~CallsGraph_node8"><a xlink:href=".././proc/korc_abort.html" xlink:title="korc_abort">
<polygon fill="#d9534f" stroke="#d9534f" points="621.5,-108 559.5,-108 559.5,-84 621.5,-84 621.5,-108"/>
<text text-anchor="middle" x="590.5" y="-93.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">korc_abort</text>
</a>
</g>
</g>
<!-- proc~load_time_stepping_params&#45;&gt;proc~korc_abort -->
<g id="proc~~define_time_step~~CallsGraph_edge6" class="edge">
<title>proc~load_time_stepping_params&#45;&gt;proc~korc_abort</title>
<path fill="none" stroke="#000000" d="M254.7211,-122.9455C271.72,-119.5827 290.5703,-116.2404 308,-114 393.4026,-103.0223 494.2314,-98.6396 549.3673,-96.9667"/>
<polygon fill="#000000" stroke="#000000" points="549.547,-100.463 559.4419,-96.6759 549.3451,-93.4659 549.547,-100.463"/>
</g>
<!-- h5fopen_f -->
<g id="proc~~define_time_step~~CallsGraph_node9" class="node">
<title>h5fopen_f</title>
<polygon fill="#777777" stroke="#777777" points="382.5,-147 323.5,-147 323.5,-123 382.5,-123 382.5,-147"/>
<text text-anchor="middle" x="353" y="-132.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">h5fopen_f</text>
</g>
<!-- proc~load_time_stepping_params&#45;&gt;h5fopen_f -->
<g id="proc~~define_time_step~~CallsGraph_edge7" class="edge">
<title>proc~load_time_stepping_params&#45;&gt;h5fopen_f</title>
<path fill="none" stroke="#000000" d="M272.0199,-135C286.1891,-135 300.564,-135 313.1912,-135"/>
<polygon fill="#000000" stroke="#000000" points="313.3442,-138.5001 323.3442,-135 313.3441,-131.5001 313.3442,-138.5001"/>
</g>
<!-- interface~load_from_hdf5 -->
<g id="proc~~define_time_step~~CallsGraph_node10" class="node">
<title>interface~load_from_hdf5</title>
<g id="a_proc~~define_time_step~~CallsGraph_node10"><a xlink:href=".././interface/load_from_hdf5.html" xlink:title="load_from_hdf5">
<polygon fill="#a7506f" stroke="#a7506f" points="395.5,-67 310.5,-67 310.5,-43 395.5,-43 395.5,-67"/>
<text text-anchor="middle" x="353" y="-52.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">load_from_hdf5</text>
</a>
</g>
</g>
<!-- proc~load_time_stepping_params&#45;&gt;interface~load_from_hdf5 -->
<g id="proc~~define_time_step~~CallsGraph_edge8" class="edge">
<title>proc~load_time_stepping_params&#45;&gt;interface~load_from_hdf5</title>
<path fill="none" stroke="#000000" d="M251.9175,-122.9903C258.8778,-120.4874 265.7599,-117.514 272,-114 290.9125,-103.3497 290.4993,-93.8388 308,-81 312.1672,-77.9429 316.7226,-74.9521 321.2837,-72.1511"/>
<polygon fill="#000000" stroke="#000000" points="323.1275,-75.127 329.9615,-67.0308 319.5703,-69.0982 323.1275,-75.127"/>
</g>
<!-- proc~load_prev_time&#45;&gt;mpi_bcast -->
<g id="proc~~define_time_step~~CallsGraph_edge9" class="edge">
<title>proc~load_prev_time&#45;&gt;mpi_bcast</title>
<path fill="none" stroke="#000000" d="M242.2129,-188.5879C264.2042,-194.6247 290.9616,-201.9699 312.6708,-207.9292"/>
<polygon fill="#000000" stroke="#000000" points="311.9965,-211.3736 322.5663,-210.6457 313.8496,-204.6233 311.9965,-211.3736"/>
</g>
<!-- mpi_comm_rank -->
<g id="proc~~define_time_step~~CallsGraph_node6" class="node">
<title>mpi_comm_rank</title>
<polygon fill="#777777" stroke="#777777" points="398,-273 308,-273 308,-249 398,-249 398,-273"/>
<text text-anchor="middle" x="353" y="-258.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">mpi_comm_rank</text>
</g>
<!-- proc~load_prev_time&#45;&gt;mpi_comm_rank -->
<g id="proc~~define_time_step~~CallsGraph_edge10" class="edge">
<title>proc~load_prev_time&#45;&gt;mpi_comm_rank</title>
<path fill="none" stroke="#000000" d="M219.6001,-189.1633C241.009,-202.2759 276.4623,-223.4868 308,-240 310.9023,-241.5197 313.9345,-243.0509 316.9941,-244.5567"/>
<polygon fill="#000000" stroke="#000000" points="315.6236,-247.7813 326.1525,-248.9614 318.6576,-241.473 315.6236,-247.7813"/>
</g>
<!-- proc~load_prev_time&#45;&gt;h5fclose_f -->
<g id="proc~~define_time_step~~CallsGraph_edge11" class="edge">
<title>proc~load_prev_time&#45;&gt;h5fclose_f</title>
<path fill="none" stroke="#000000" d="M242.2129,-177C264.1046,-177 290.7196,-177 312.3758,-177"/>
<polygon fill="#000000" stroke="#000000" points="312.5663,-180.5001 322.5663,-177 312.5663,-173.5001 312.5663,-180.5001"/>
</g>
<!-- proc~load_prev_time&#45;&gt;proc~korc_abort -->
<g id="proc~~define_time_step~~CallsGraph_edge12" class="edge">
<title>proc~load_prev_time&#45;&gt;proc~korc_abort</title>
<path fill="none" stroke="#000000" d="M207.6643,-189.135C223.2091,-212.4568 260.9937,-262.916 308,-282 345.0621,-297.0467 360.9148,-296.9895 398,-282 482.3185,-247.9193 550.2163,-157.2492 577.5247,-116.4254"/>
<polygon fill="#000000" stroke="#000000" points="580.4515,-118.3447 583.0137,-108.0643 574.5998,-114.503 580.4515,-118.3447"/>
</g>
<!-- proc~load_prev_time&#45;&gt;h5fopen_f -->
<g id="proc~~define_time_step~~CallsGraph_edge13" class="edge">
<title>proc~load_prev_time&#45;&gt;h5fopen_f</title>
<path fill="none" stroke="#000000" d="M242.2129,-165.4121C264.3569,-159.3334 291.3335,-151.9281 313.1224,-145.9468"/>
<polygon fill="#000000" stroke="#000000" points="314.3277,-149.2455 323.0444,-143.2231 312.4746,-142.4952 314.3277,-149.2455"/>
</g>
<!-- proc~load_prev_time&#45;&gt;interface~load_from_hdf5 -->
<g id="proc~~define_time_step~~CallsGraph_edge14" class="edge">
<title>proc~load_prev_time&#45;&gt;interface~load_from_hdf5</title>
<path fill="none" stroke="#000000" d="M242.2693,-169.308C252.5469,-166.2215 263.1239,-161.9343 272,-156 276.2123,-153.1838 314.688,-104.2117 337.0617,-75.512"/>
<polygon fill="#000000" stroke="#000000" points="340.0507,-77.3702 343.4326,-67.3295 334.5275,-73.0697 340.0507,-77.3702"/>
</g>
<!-- mpi_abort -->
<g id="proc~~define_time_step~~CallsGraph_node11" class="node">
<title>mpi_abort</title>
<polygon fill="#777777" stroke="#777777" points="717,-108 658,-108 658,-84 717,-84 717,-108"/>
<text text-anchor="middle" x="687.5" y="-93.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">mpi_abort</text>
</g>
<!-- proc~korc_abort&#45;&gt;mpi_abort -->
<g id="proc~~define_time_step~~CallsGraph_edge15" class="edge">
<title>proc~korc_abort&#45;&gt;mpi_abort</title>
<path fill="none" stroke="#000000" d="M621.7253,-96C630.0847,-96 639.2317,-96 647.9754,-96"/>
<polygon fill="#000000" stroke="#000000" points="647.9832,-99.5001 657.9832,-96 647.9831,-92.5001 647.9832,-99.5001"/>
</g>
<!-- proc~rload_from_hdf5 -->
<g id="proc~~define_time_step~~CallsGraph_node12" class="node">
<title>proc~rload_from_hdf5</title>
<g id="a_proc~~define_time_step~~CallsGraph_node12"><a xlink:href=".././proc/rload_from_hdf5.html" xlink:title="rload_from_hdf5">
<polygon fill="#d9534f" stroke="#d9534f" points="523,-67 434,-67 434,-43 523,-43 523,-67"/>
<text text-anchor="middle" x="478.5" y="-52.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">rload_from_hdf5</text>
</a>
</g>
</g>
<!-- interface~load_from_hdf5&#45;&gt;proc~rload_from_hdf5 -->
<g id="proc~~define_time_step~~CallsGraph_edge16" class="edge">
<title>interface~load_from_hdf5&#45;&gt;proc~rload_from_hdf5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M395.839,-55C404.7128,-55 414.1793,-55 423.4205,-55"/>
<polygon fill="#000000" stroke="#000000" points="423.7149,-58.5001 433.7148,-55 423.7148,-51.5001 423.7149,-58.5001"/>
</g>
<!-- proc~iload_from_hdf5 -->
<g id="proc~~define_time_step~~CallsGraph_node13" class="node">
<title>proc~iload_from_hdf5</title>
<g id="a_proc~~define_time_step~~CallsGraph_node13"><a xlink:href=".././proc/iload_from_hdf5.html" xlink:title="iload_from_hdf5">
<polygon fill="#d9534f" stroke="#d9534f" points="522.5,-25 434.5,-25 434.5,-1 522.5,-1 522.5,-25"/>
<text text-anchor="middle" x="478.5" y="-10.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">iload_from_hdf5</text>
</a>
</g>
</g>
<!-- interface~load_from_hdf5&#45;&gt;proc~iload_from_hdf5 -->
<g id="proc~~define_time_step~~CallsGraph_edge17" class="edge">
<title>interface~load_from_hdf5&#45;&gt;proc~iload_from_hdf5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M388.9633,-42.9645C402.6166,-38.3952 418.3529,-33.1289 432.7877,-28.2981"/>
<polygon fill="#000000" stroke="#000000" points="434.1592,-31.53 442.5315,-25.0373 431.9376,-24.8919 434.1592,-31.53"/>
</g>
<!-- proc~rload_from_hdf5&#45;&gt;proc~korc_abort -->
<g id="proc~~define_time_step~~CallsGraph_edge18" class="edge">
<title>proc~rload_from_hdf5&#45;&gt;proc~korc_abort</title>
<path fill="none" stroke="#000000" d="M511.4979,-67.0796C523.412,-71.441 537.0074,-76.4179 549.5219,-80.9991"/>
<polygon fill="#000000" stroke="#000000" points="548.6801,-84.418 559.2738,-84.569 551.0865,-77.8446 548.6801,-84.418"/>
</g>
<!-- h5dclose_f -->
<g id="proc~~define_time_step~~CallsGraph_node14" class="node">
<title>h5dclose_f</title>
<polygon fill="#777777" stroke="#777777" points="622,-24 559,-24 559,0 622,0 622,-24"/>
<text text-anchor="middle" x="590.5" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">h5dclose_f</text>
</g>
<!-- proc~rload_from_hdf5&#45;&gt;h5dclose_f -->
<g id="proc~~define_time_step~~CallsGraph_edge19" class="edge">
<title>proc~rload_from_hdf5&#45;&gt;h5dclose_f</title>
<path fill="none" stroke="#000000" d="M509.9963,-42.9077C522.2672,-38.1965 536.4934,-32.7347 549.5426,-27.7247"/>
<polygon fill="#000000" stroke="#000000" points="551.159,-30.8533 559.2401,-24.0016 548.65,-24.3184 551.159,-30.8533"/>
</g>
<!-- h5dread_f -->
<g id="proc~~define_time_step~~CallsGraph_node15" class="node">
<title>h5dread_f</title>
<polygon fill="#777777" stroke="#777777" points="620.5,-66 560.5,-66 560.5,-42 620.5,-42 620.5,-66"/>
<text text-anchor="middle" x="590.5" y="-51.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">h5dread_f</text>
</g>
<!-- proc~rload_from_hdf5&#45;&gt;h5dread_f -->
<g id="proc~~define_time_step~~CallsGraph_edge20" class="edge">
<title>proc~rload_from_hdf5&#45;&gt;h5dread_f</title>
<path fill="none" stroke="#000000" d="M523.0872,-54.6019C532.0316,-54.522 541.3818,-54.4386 550.1717,-54.3601"/>
<polygon fill="#000000" stroke="#000000" points="550.2067,-57.86 560.175,-54.2708 550.1442,-50.8603 550.2067,-57.86"/>
</g>
<!-- proc~iload_from_hdf5&#45;&gt;proc~korc_abort -->
<g id="proc~~define_time_step~~CallsGraph_edge21" class="edge">
<title>proc~iload_from_hdf5&#45;&gt;proc~korc_abort</title>
<path fill="none" stroke="#000000" d="M508.6775,-25.1677C513.6682,-27.7532 518.633,-30.7105 523,-34 542.3694,-48.5902 540.7549,-59.0261 559,-75 560.1127,-75.9741 561.2731,-76.9393 562.4642,-77.8895"/>
<polygon fill="#000000" stroke="#000000" points="560.4653,-80.7641 570.5916,-83.8802 564.6187,-75.1294 560.4653,-80.7641"/>
</g>
<!-- proc~iload_from_hdf5&#45;&gt;h5dclose_f -->
<g id="proc~~define_time_step~~CallsGraph_edge22" class="edge">
<title>proc~iload_from_hdf5&#45;&gt;h5dclose_f</title>
<path fill="none" stroke="#000000" d="M522.7654,-12.6048C531.3724,-12.5279 540.3666,-12.4476 548.8846,-12.3716"/>
<polygon fill="#000000" stroke="#000000" points="549.0121,-15.8707 558.9804,-12.2814 548.9495,-8.8709 549.0121,-15.8707"/>
</g>
<!-- proc~iload_from_hdf5&#45;&gt;h5dread_f -->
<g id="proc~~define_time_step~~CallsGraph_edge23" class="edge">
<title>proc~iload_from_hdf5&#45;&gt;h5dread_f</title>
<path fill="none" stroke="#000000" d="M511.4979,-25.0796C523.8385,-29.5971 537.9828,-34.775 550.8615,-39.4895"/>
<polygon fill="#000000" stroke="#000000" points="549.8187,-42.8348 560.4124,-42.9858 552.225,-36.2614 549.8187,-42.8348"/>
</g>
</g>
</svg>
</div><script>var panprocdefine_time_stepCallsGraph = svgPanZoom('#procdefine_time_stepCallsGraph', {zoomEnabled: true,controlIconsEnabled: true, fit: true, center: true,}); </script><div><a type="button" class="graph-help" data-toggle="modal" href="#graph-help-text">Help</a></div><div class="modal fade" id="graph-help-text" tabindex="-1" role="dialog"><div class="modal-dialog modal-lg" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="-graph-help-label">Graph Key</h4></div><div class="modal-body">
    <p>Nodes of different colours represent the following: </p>
    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: Graph Key Pages: 1 -->
<svg width="554pt" height="32pt"
 viewBox="0.00 0.00 553.50 32.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 28)">
<title>Graph Key</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-28 549.5,-28 549.5,4 -4,4"/>
<!-- Subroutine -->
<g id="node1" class="node">
<title>Subroutine</title>
<polygon fill="#d9534f" stroke="#d9534f" points="63,-24 0,-24 0,0 63,0 63,-24"/>
<text text-anchor="middle" x="31.5" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">Subroutine</text>
</g>
<!-- Function -->
<g id="node2" class="node">
<title>Function</title>
<polygon fill="#d94e8f" stroke="#d94e8f" points="135.5,-24 81.5,-24 81.5,0 135.5,0 135.5,-24"/>
<text text-anchor="middle" x="108.5" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">Function</text>
</g>
<!-- Interface -->
<g id="node3" class="node">
<title>Interface</title>
<polygon fill="#a7506f" stroke="#a7506f" points="207.5,-24 153.5,-24 153.5,0 207.5,0 207.5,-24"/>
<text text-anchor="middle" x="180.5" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">Interface</text>
</g>
<!-- Unknown Procedure Type -->
<g id="node4" class="node">
<title>Unknown Procedure Type</title>
<polygon fill="#777777" stroke="#777777" points="359.5,-24 225.5,-24 225.5,0 359.5,0 359.5,-24"/>
<text text-anchor="middle" x="292.5" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">Unknown Procedure Type</text>
</g>
<!-- Program -->
<g id="node5" class="node">
<title>Program</title>
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="431.5,-24 377.5,-24 377.5,0 431.5,0 431.5,-24"/>
<text text-anchor="middle" x="404.5" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">Program</text>
</g>
<!-- This Page&#39;s Entity -->
<g id="node6" class="node">
<title>This Page&#39;s Entity</title>
<polygon fill="none" stroke="#000000" points="545.5,-24 449.5,-24 449.5,0 545.5,0 545.5,-24"/>
<text text-anchor="middle" x="497.5" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#000000">This Page&#39;s Entity</text>
</g>
</g>
</svg>

    
    <p>Solid arrows point from a procedure to one which it calls. Dashed 
    arrows point from an interface to procedures which implement that interface.
    This could include the module procedures in a generic interface or the
    implementation in a submodule of an interface in a parent module.
    </p>
    </div></div></div></div>
      </div>
    </div>
     
     
    <div class="panel panel-default">
      <div class="panel-heading">
  <h3 class="panel-title">Called by</h3>
      </div>
      <div class="panel-body">
  <div class="depgraph"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: proc~~define_time_step~~CalledByGraph Pages: 1 -->
<svg id="procdefine_time_stepCalledByGraph" width="190pt" height="32pt"
 viewBox="0.00 0.00 190.00 32.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="proc~~define_time_step~~CalledByGraph" class="graph" transform="scale(1 1) rotate(0) translate(4 28)">
<title>proc~~define_time_step~~CalledByGraph</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-28 186,-28 186,4 -4,4"/>
<!-- proc~define_time_step -->
<g id="proc~~define_time_step~~CalledByGraph_node1" class="node">
<title>proc~define_time_step</title>
<polygon fill="none" stroke="#000000" points="182,-24 90,-24 90,0 182,0 182,-24"/>
<text text-anchor="middle" x="136" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#000000">define_time_step</text>
</g>
<!-- program~main -->
<g id="proc~~define_time_step~~CalledByGraph_node2" class="node">
<title>program~main</title>
<g id="a_proc~~define_time_step~~CalledByGraph_node2"><a xlink:href=".././program/main.html" xlink:title="main">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="54,-24 0,-24 0,0 54,0 54,-24"/>
<text text-anchor="middle" x="27" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">main</text>
</a>
</g>
</g>
<!-- program~main&#45;&gt;proc~define_time_step -->
<g id="proc~~define_time_step~~CalledByGraph_edge1" class="edge">
<title>program~main&#45;&gt;proc~define_time_step</title>
<path fill="none" stroke="#000000" d="M54.2241,-12C61.9289,-12 70.6135,-12 79.3716,-12"/>
<polygon fill="#000000" stroke="#000000" points="79.6322,-15.5001 89.6322,-12 79.6322,-8.5001 79.6322,-15.5001"/>
</g>
</g>
</svg>
</div><div><a type="button" class="graph-help" data-toggle="modal" href="#graph-help-text">Help</a></div><div class="modal fade" id="graph-help-text" tabindex="-1" role="dialog"><div class="modal-dialog modal-lg" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="-graph-help-label">Graph Key</h4></div><div class="modal-body">
    <p>Nodes of different colours represent the following: </p>
    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: Graph Key Pages: 1 -->
<svg width="554pt" height="32pt"
 viewBox="0.00 0.00 553.50 32.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 28)">
<title>Graph Key</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-28 549.5,-28 549.5,4 -4,4"/>
<!-- Subroutine -->
<g id="node1" class="node">
<title>Subroutine</title>
<polygon fill="#d9534f" stroke="#d9534f" points="63,-24 0,-24 0,0 63,0 63,-24"/>
<text text-anchor="middle" x="31.5" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">Subroutine</text>
</g>
<!-- Function -->
<g id="node2" class="node">
<title>Function</title>
<polygon fill="#d94e8f" stroke="#d94e8f" points="135.5,-24 81.5,-24 81.5,0 135.5,0 135.5,-24"/>
<text text-anchor="middle" x="108.5" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">Function</text>
</g>
<!-- Interface -->
<g id="node3" class="node">
<title>Interface</title>
<polygon fill="#a7506f" stroke="#a7506f" points="207.5,-24 153.5,-24 153.5,0 207.5,0 207.5,-24"/>
<text text-anchor="middle" x="180.5" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">Interface</text>
</g>
<!-- Unknown Procedure Type -->
<g id="node4" class="node">
<title>Unknown Procedure Type</title>
<polygon fill="#777777" stroke="#777777" points="359.5,-24 225.5,-24 225.5,0 359.5,0 359.5,-24"/>
<text text-anchor="middle" x="292.5" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">Unknown Procedure Type</text>
</g>
<!-- Program -->
<g id="node5" class="node">
<title>Program</title>
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="431.5,-24 377.5,-24 377.5,0 431.5,0 431.5,-24"/>
<text text-anchor="middle" x="404.5" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">Program</text>
</g>
<!-- This Page&#39;s Entity -->
<g id="node6" class="node">
<title>This Page&#39;s Entity</title>
<polygon fill="none" stroke="#000000" points="545.5,-24 449.5,-24 449.5,0 545.5,0 545.5,-24"/>
<text text-anchor="middle" x="497.5" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#000000">This Page&#39;s Entity</text>
</g>
</g>
</svg>

    
    <p>Solid arrows point from a procedure to one which it calls. Dashed 
    arrows point from an interface to procedures which implement that interface.
    This could include the module procedures in a generic interface or the
    implementation in a submodule of an interface in a parent module.
    </p>
    </div></div></div></div>
      </div>
    </div>
     
    <br>

    <section class="visible-xs visible-sm hidden-md">
      
<h3>Contents</h3>
 





















<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title">Source Code</h3></div>
  <div class="list-group">
    <a class="list-group-item" href="../proc/define_time_step.html#src">define_time_step</a>
  </div>
</div>



    </section>
    <br class="visible-xs visible-sm hidden-md">

    

    
    
    
    
    

    
    
    
    
    


    
    
    
    <section>
    <h2><span class="anchor" id="src"></span>Source Code</h2>
    <div class="highlight"><pre><span></span>  <span class="k">subroutine </span><span class="n">define_time_step</span><span class="p">(</span><span class="n">params</span><span class="p">,</span><span class="n">F</span><span class="p">)</span>
    <span class="c">!! @note Subroutine that defines or loads from restart file the time</span>
    <span class="c">!! stepping parameters. @endnote</span>
    <span class="k">TYPE</span><span class="p">(</span><span class="n">KORC_PARAMS</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span> <span class="kd">::</span> <span class="n">params</span>
    <span class="k">TYPE</span><span class="p">(</span><span class="n">FIELDS</span><span class="p">),</span> <span class="k">INTENT</span><span class="p">(</span><span class="n">INOUT</span><span class="p">)</span> <span class="kd">::</span> <span class="n">F</span>
    <span class="c">!! Core KORC simulation parameters.</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">params</span><span class="p">%</span><span class="n">restart</span><span class="p">)</span> <span class="k">then</span>
<span class="k">       call </span><span class="n">load_time_stepping_params</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
       
    <span class="k">else if</span> <span class="p">(</span><span class="n">params</span><span class="p">%</span><span class="n">proceed</span><span class="p">.</span><span class="nb">or</span><span class="p">.</span><span class="n">params</span><span class="p">%</span><span class="n">reinit</span><span class="p">)</span> <span class="k">then</span>
<span class="k">       </span>
<span class="k">       call </span><span class="n">load_prev_time</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
       
       <span class="n">params</span><span class="p">%</span><span class="n">ito</span> <span class="o">=</span> <span class="mi">1_ip</span>

       <span class="n">params</span><span class="p">%</span><span class="n">dt</span> <span class="o">=</span> <span class="n">params</span><span class="p">%</span><span class="n">dt</span><span class="o">*</span><span class="p">(</span><span class="mf">2.0_rp</span><span class="o">*</span><span class="n">C_PI</span><span class="o">*</span><span class="n">params</span><span class="p">%</span><span class="n">cpp</span><span class="p">%</span><span class="n">time_r</span><span class="p">)</span>

       <span class="n">params</span><span class="p">%</span><span class="n">t_steps</span> <span class="o">=</span> <span class="nb">CEILING</span><span class="p">((</span><span class="n">params</span><span class="p">%</span><span class="n">simulation_time</span><span class="o">-</span><span class="n">params</span><span class="p">%</span><span class="n">init_time</span><span class="p">)</span><span class="o">/</span> <span class="p">&amp;</span>
            <span class="n">params</span><span class="p">%</span><span class="n">dt</span><span class="p">,</span><span class="n">ip</span><span class="p">)</span>

       <span class="n">params</span><span class="p">%</span><span class="n">output_cadence</span> <span class="o">=</span> <span class="nb">CEILING</span><span class="p">(</span><span class="n">params</span><span class="p">%</span><span class="n">snapshot_frequency</span><span class="o">/</span><span class="n">params</span><span class="p">%</span><span class="n">dt</span><span class="p">,</span><span class="n">ip</span><span class="p">)</span>

       <span class="k">if</span> <span class="p">(</span><span class="n">params</span><span class="p">%</span><span class="n">output_cadence</span><span class="p">.</span><span class="n">EQ</span><span class="p">.</span><span class="mi">0_ip</span><span class="p">)</span> <span class="n">params</span><span class="p">%</span><span class="n">output_cadence</span> <span class="o">=</span> <span class="mi">1_ip</span>

       <span class="n">params</span><span class="p">%</span><span class="n">num_snapshots</span> <span class="o">=</span> <span class="n">params</span><span class="p">%</span><span class="n">t_steps</span><span class="o">/</span><span class="n">params</span><span class="p">%</span><span class="n">output_cadence</span>

       <span class="k">if</span> <span class="p">(</span><span class="n">params</span><span class="p">%</span><span class="n">t_steps</span><span class="p">.</span><span class="n">gt</span><span class="p">.</span><span class="n">params</span><span class="p">%</span><span class="n">output_cadence</span><span class="p">)</span> <span class="k">then</span>
<span class="k">          </span><span class="n">params</span><span class="p">%</span><span class="n">dt</span><span class="o">=</span><span class="n">params</span><span class="p">%</span><span class="n">snapshot_frequency</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="n">params</span><span class="p">%</span><span class="n">output_cadence</span><span class="p">)</span>
       <span class="n">endif</span>
       
       <span class="n">params</span><span class="p">%</span><span class="n">restart_output_cadence</span> <span class="o">=</span> <span class="nb">CEILING</span><span class="p">(</span><span class="n">params</span><span class="p">%</span><span class="n">restart_overwrite_frequency</span><span class="o">/</span> <span class="p">&amp;</span>
            <span class="n">params</span><span class="p">%</span><span class="n">dt</span><span class="p">,</span><span class="n">ip</span><span class="p">)</span>


       <span class="n">params</span><span class="p">%</span><span class="n">t_skip</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">params</span><span class="p">%</span><span class="n">t_steps</span><span class="p">,</span><span class="n">params</span><span class="p">%</span><span class="n">output_cadence</span><span class="p">)</span>
       <span class="n">params</span><span class="p">%</span><span class="n">t_skip</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="mi">1_ip</span><span class="p">,</span><span class="n">params</span><span class="p">%</span><span class="n">t_skip</span><span class="p">)</span>


    <span class="k">else</span>
<span class="k">       </span><span class="n">params</span><span class="p">%</span><span class="n">ito</span> <span class="o">=</span> <span class="mi">1_ip</span>

       <span class="n">params</span><span class="p">%</span><span class="n">dt</span> <span class="o">=</span> <span class="n">params</span><span class="p">%</span><span class="n">dt</span><span class="o">*</span><span class="p">(</span><span class="mf">2.0_rp</span><span class="o">*</span><span class="n">C_PI</span><span class="o">*</span><span class="n">params</span><span class="p">%</span><span class="n">cpp</span><span class="p">%</span><span class="n">time_r</span><span class="p">)</span>

       <span class="n">params</span><span class="p">%</span><span class="n">t_steps</span> <span class="o">=</span> <span class="nb">CEILING</span><span class="p">(</span><span class="n">params</span><span class="p">%</span><span class="n">simulation_time</span><span class="o">/</span><span class="n">params</span><span class="p">%</span><span class="n">dt</span><span class="p">,</span><span class="n">ip</span><span class="p">)</span>
       
       <span class="n">params</span><span class="p">%</span><span class="n">output_cadence</span> <span class="o">=</span> <span class="nb">CEILING</span><span class="p">(</span><span class="n">params</span><span class="p">%</span><span class="n">snapshot_frequency</span><span class="o">/</span><span class="n">params</span><span class="p">%</span><span class="n">dt</span><span class="p">,</span><span class="n">ip</span><span class="p">)</span>

       <span class="k">if</span> <span class="p">(</span><span class="n">params</span><span class="p">%</span><span class="n">output_cadence</span><span class="p">.</span><span class="n">EQ</span><span class="p">.</span><span class="mi">0_ip</span><span class="p">)</span> <span class="n">params</span><span class="p">%</span><span class="n">output_cadence</span> <span class="o">=</span> <span class="mi">1_ip</span>

       <span class="n">params</span><span class="p">%</span><span class="n">num_snapshots</span> <span class="o">=</span> <span class="n">params</span><span class="p">%</span><span class="n">t_steps</span><span class="o">/</span><span class="n">params</span><span class="p">%</span><span class="n">output_cadence</span>

       <span class="k">if</span> <span class="p">(</span><span class="n">params</span><span class="p">%</span><span class="n">t_steps</span><span class="p">.</span><span class="n">gt</span><span class="p">.</span><span class="n">params</span><span class="p">%</span><span class="n">output_cadence</span><span class="p">)</span> <span class="k">then</span>
<span class="k">          </span><span class="n">params</span><span class="p">%</span><span class="n">dt</span><span class="o">=</span><span class="n">params</span><span class="p">%</span><span class="n">snapshot_frequency</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="n">params</span><span class="p">%</span><span class="n">output_cadence</span><span class="p">)</span>
       <span class="n">endif</span>

       <span class="n">params</span><span class="p">%</span><span class="n">restart_output_cadence</span> <span class="o">=</span> <span class="nb">CEILING</span><span class="p">(</span><span class="n">params</span><span class="p">%</span><span class="n">restart_overwrite_frequency</span><span class="o">/</span> <span class="p">&amp;</span>
            <span class="n">params</span><span class="p">%</span><span class="n">dt</span><span class="p">,</span><span class="n">ip</span><span class="p">)</span>

       <span class="n">params</span><span class="p">%</span><span class="n">t_skip</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">params</span><span class="p">%</span><span class="n">t_steps</span><span class="p">,</span><span class="n">params</span><span class="p">%</span><span class="n">output_cadence</span><span class="p">)</span>
       <span class="n">params</span><span class="p">%</span><span class="n">t_skip</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="mi">1_ip</span><span class="p">,</span><span class="n">params</span><span class="p">%</span><span class="n">t_skip</span><span class="p">)</span>

    <span class="k">end if</span>

    <span class="c">!    write(output_unit_write,*) &#39;dt&#39;,params%dt,&#39;t_skip&#39;,params%t_skip</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">params</span><span class="p">%</span><span class="n">mpi_params</span><span class="p">%</span><span class="n">rank</span> <span class="p">.</span><span class="n">EQ</span><span class="p">.</span> <span class="mi">0</span><span class="p">)</span> <span class="k">then</span>
<span class="k">       write</span><span class="p">(</span><span class="n">output_unit_write</span><span class="p">,</span><span class="s1">&#39;(/,&quot;* * * * * TIME STEPPING PARAMETERS * * * * *&quot;)&#39;</span><span class="p">)</span>
       <span class="k">write</span><span class="p">(</span><span class="n">output_unit_write</span><span class="p">,</span><span class="s1">&#39;(&quot;Simulation time: &quot;,E17.10,&quot; s&quot;)&#39;</span><span class="p">)</span> <span class="n">params</span><span class="p">%</span><span class="n">simulation_time</span>
       <span class="k">write</span><span class="p">(</span><span class="n">output_unit_write</span><span class="p">,</span><span class="s1">&#39;(&quot;Initial time: &quot;,E17.10,&quot; s&quot;)&#39;</span><span class="p">)</span> <span class="n">params</span><span class="p">%</span><span class="n">init_time</span>     
       <span class="k">write</span><span class="p">(</span><span class="n">output_unit_write</span><span class="p">,</span><span class="s1">&#39;(&quot;Output frequency: &quot;,E17.10,&quot; s&quot;)&#39;</span><span class="p">)</span> <span class="n">params</span><span class="p">%</span><span class="n">snapshot_frequency</span>
       <span class="k">write</span><span class="p">(</span><span class="n">output_unit_write</span><span class="p">,</span><span class="s1">&#39;(&quot;Relativistic gyro-period: &quot;,E17.10)&#39;</span><span class="p">)</span> <span class="mf">2.0_rp</span><span class="o">*</span><span class="n">C_PI</span><span class="o">*</span> <span class="p">&amp;</span>
            <span class="n">params</span><span class="p">%</span><span class="n">cpp</span><span class="p">%</span><span class="n">time_r</span>
       <span class="k">write</span><span class="p">(</span><span class="n">output_unit_write</span><span class="p">,</span><span class="s1">&#39;(&quot;Time step: &quot;,E17.10)&#39;</span><span class="p">)</span> <span class="n">params</span><span class="p">%</span><span class="n">dt</span>
       <span class="k">write</span><span class="p">(</span><span class="n">output_unit_write</span><span class="p">,</span><span class="s1">&#39;(&quot;Number of time steps: &quot;,I16)&#39;</span><span class="p">)</span> <span class="n">params</span><span class="p">%</span><span class="n">t_steps</span>
       <span class="k">write</span><span class="p">(</span><span class="n">output_unit_write</span><span class="p">,</span><span class="s1">&#39;(&quot;Starting simulation at time step: &quot;,I16)&#39;</span><span class="p">)</span> <span class="n">params</span><span class="p">%</span><span class="n">ito</span>
       <span class="k">write</span><span class="p">(</span><span class="n">output_unit_write</span><span class="p">,</span><span class="s1">&#39;(&quot;Output cadence: &quot;,I16)&#39;</span><span class="p">)</span> <span class="n">params</span><span class="p">%</span><span class="n">output_cadence</span>
       <span class="k">write</span><span class="p">(</span><span class="n">output_unit_write</span><span class="p">,</span><span class="s1">&#39;(&quot;Restart cadence: &quot;,I16)&#39;</span><span class="p">)</span> <span class="n">params</span><span class="p">%</span><span class="n">restart_output_cadence</span>
       <span class="k">write</span><span class="p">(</span><span class="n">output_unit_write</span><span class="p">,</span><span class="s1">&#39;(&quot;Number of outputs: &quot;,I16)&#39;</span><span class="p">)</span> <span class="n">params</span><span class="p">%</span><span class="n">num_snapshots</span>
       <span class="k">write</span><span class="p">(</span><span class="n">output_unit_write</span><span class="p">,</span><span class="s1">&#39;(&quot;* * * * * * * * * * * * * * * * * * * * * * *&quot;,/)&#39;</span><span class="p">)</span>
    <span class="k">end if</span>
<span class="k">  end subroutine </span><span class="n">define_time_step</span>
</pre></div>

    </section>
    <br>
    
    
    </div>
  </div>


    <hr>    
    </div> <!-- /container -->
    <footer>
      <div class="container">
      <div class="row">
        <div class="col-xs-6 col-md-4"><p>&copy; 2022 
                                          </p></div>
        <div class="col-xs-6 col-md-4 col-md-push-4">
          <p class="text-right">
            Documentation generated by 
            <a href="https://github.com/cmacmackin/ford">FORD</a>
             on  
          </p>
        </div>
        <div class="col-xs-12 col-md-4 col-md-pull-4"><p class="text-center"> KORC was developed by Matt Beidler</p></div>
      </div>
      <br>
      </div> <!-- /container -->    
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
<!--
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
-->
    <script src="../js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../js/ie10-viewport-bug-workaround.js"></script>

    <!-- MathJax JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
        jax: ['input/TeX','input/MathML','output/HTML-CSS'],
        extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
      });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    
    <script src="../tipuesearch/tipuesearch_content.js"></script>
    <script src="../tipuesearch/tipuesearch_set.js"></script>
    <script src="../tipuesearch/tipuesearch.js"></script>
    
    
  </body>
</html>